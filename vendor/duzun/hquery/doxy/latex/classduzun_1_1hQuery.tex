\hypertarget{classduzun_1_1hQuery}{}\section{duzun\textbackslash{}h\+Query Class Reference}
\label{classduzun_1_1hQuery}\index{duzun\textbackslash{}h\+Query@{duzun\textbackslash{}h\+Query}}
Inheritance diagram for duzun\textbackslash{}h\+Query\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{classduzun_1_1hQuery}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classduzun_1_1hQuery_a3565bdeabc08bd32d10d365759e9dc82}{find}} (\$sel, \$\+\_\+attr=N\+U\+LL, \$ctx=N\+U\+LL)
\item 
\mbox{\hyperlink{classduzun_1_1hQuery_ac8332727e97405b17ecb4dd47c5a0fc9}{find\+\_\+html}} (\$sel, \$\mbox{\hyperlink{classduzun_1_1hQuery_1_1Node_a530ab9e8edeb1e876b369dcb321208c0}{attr}}=N\+U\+LL, \$ctx=N\+U\+LL)
\item 
\mbox{\hyperlink{classduzun_1_1hQuery_a3d00fababd6c54d00ee89a562233730d}{find\+\_\+text}} (\$sel, \$\mbox{\hyperlink{classduzun_1_1hQuery_1_1Node_a530ab9e8edeb1e876b369dcb321208c0}{attr}}=N\+U\+LL, \$ctx=N\+U\+LL)
\item 
\mbox{\hyperlink{classduzun_1_1hQuery_adf6b1bc1eb43a8e88effc0662e2edc49}{index}} ()
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classduzun_1_1hQuery_a00c55ba68b55dc033bea74623927ca0f}{from\+H\+T\+ML}} (\$\mbox{\hyperlink{classduzun_1_1hQuery_1_1Node_a6a251f5f93690fabb794c673388dd49b}{html}}, \$url=N\+U\+LL)
\item 
static \mbox{\hyperlink{classduzun_1_1hQuery_a68c406e030e2ccd85707c20c2eedf720}{from\+File}} (\$filename, \$use\+\_\+include\+\_\+path=false, \$context=N\+U\+LL)
\item 
static \mbox{\hyperlink{classduzun_1_1hQuery_a2e7353a5236495ec6c29e68037a86438}{from\+U\+RL}} (\$url, \$headers=N\+U\+LL, \$body=N\+U\+LL, \$options=N\+U\+LL)
\item 
static \mbox{\hyperlink{classduzun_1_1hQuery_a6af08d4cefbb0d2184ff90377f6f757f}{jsonize}} (\$data, \&\$type=N\+U\+LL, \$ops=0)
\item 
static \mbox{\hyperlink{classduzun_1_1hQuery_af5457644a63722ff789fababb88e99c5}{unjsonize}} (\$str, \&\$type=N\+U\+LL)
\item 
static \mbox{\hyperlink{classduzun_1_1hQuery_ad991b9626160044464a687ee32bd61c5}{gz\+\_\+supported}} ()
\item 
static \mbox{\hyperlink{classduzun_1_1hQuery_a84f0b53d5a2ae0e695a49f5b0f85c857}{gzdecode}} (\$str)
\item 
static \mbox{\hyperlink{classduzun_1_1hQuery_a5326810be6da35a2567137787be41ada}{do\+\_\+flock}} (\$fp, \$lock, \$timeout\+\_\+ms=384)
\item 
\mbox{\Hypertarget{classduzun_1_1hQuery_a8ef4d640cfeb8c0e88b34a056195b53e}\label{classduzun_1_1hQuery_a8ef4d640cfeb8c0e88b34a056195b53e}} 
static {\bfseries flock\+\_\+put\+\_\+contents} (\$fn, \$cnt, \$block=false)
\item 
\mbox{\Hypertarget{classduzun_1_1hQuery_a1d63a8628bdf1a94d0600dff9514eca9}\label{classduzun_1_1hQuery_a1d63a8628bdf1a94d0600dff9514eca9}} 
static {\bfseries flock\+\_\+get\+\_\+contents} (\$fn, \$block=false)
\item 
\mbox{\Hypertarget{classduzun_1_1hQuery_a2dc9003ba3cef6852dc4321c63c4ffce}\label{classduzun_1_1hQuery_a2dc9003ba3cef6852dc4321c63c4ffce}} 
static {\bfseries parse\+\_\+cookie} (\$str)
\item 
static \mbox{\hyperlink{classduzun_1_1hQuery_af3a116011d32dbaa4efe6ff10c0f608f}{http\+\_\+wr}} (\$host, \$head=N\+U\+LL, \$body=N\+U\+LL, \$options=N\+U\+LL)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classduzun_1_1hQuery_a83d15ffbefcbf2459bf50bb10ed79514}\label{classduzun_1_1hQuery_a83d15ffbefcbf2459bf50bb10ed79514}} 
{\bfseries \$headers}
\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classduzun_1_1hQuery_a2a97f056a6ce83b7c6016e25cf2538e4}\label{classduzun_1_1hQuery_a2a97f056a6ce83b7c6016e25cf2538e4}} 
static {\bfseries \$cache\+\_\+path}
\item 
\mbox{\Hypertarget{classduzun_1_1hQuery_a34e4d9410985fd7cde08ba84892084e3}\label{classduzun_1_1hQuery_a34e4d9410985fd7cde08ba84892084e3}} 
static {\bfseries \$cache\+\_\+expires} = 3600
\item 
\mbox{\Hypertarget{classduzun_1_1hQuery_af47ffc7fdf974e3e0d109f426be39a74}\label{classduzun_1_1hQuery_af47ffc7fdf974e3e0d109f426be39a74}} 
static {\bfseries \$\+\_\+mockup\+\_\+class}
\end{DoxyCompactItemize}
\subsection*{Static Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classduzun_1_1hQuery_ac01b0ddd586fe833f61c733147231a47}{serjstype}} (\$str)
\item 
static \mbox{\hyperlink{classduzun_1_1hQuery_a91deb0634713a3471cd5101b8b66b579}{\+\_\+gzdecode}} (\$gzdata, \$maxlen=N\+U\+LL)
\item 
static \mbox{\hyperlink{classduzun_1_1hQuery_a3b0cda49e9c7695c2fc88f3ad1657c61}{get\+\_\+cache}} (\$fn, \$expire=false, \$meta\+\_\+only=false)
\item 
static \mbox{\hyperlink{classduzun_1_1hQuery_a9e61ec098daddf504ffc239ff7d7910f}{set\+\_\+cache}} (\$fn, \$cnt, \$meta=N\+U\+LL, \$gzip=true)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Main Class, represents an H\+T\+ML document.

An extremely fast web scraper that parses megabytes of H\+T\+ML in a blink of an eye. P\+H\+P5+, no dependencies.

A\+PI Documentation at \href{https://duzun.github.io/hQuery.php}{\tt https\+://duzun.\+github.\+io/h\+Query.\+php}

Copyright (C) 2014-\/2018 Dumitru Uzun

\begin{DoxyAuthor}{Author}
Dumitru Uzun (D\+Uzun.\+ME)  M\+IT 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
2.\+0.\+1 
\end{DoxyVersion}


Definition at line 21 of file h\+Query.\+php.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classduzun_1_1hQuery_a91deb0634713a3471cd5101b8b66b579}\label{classduzun_1_1hQuery_a91deb0634713a3471cd5101b8b66b579}} 
\index{duzun\+::h\+Query@{duzun\+::h\+Query}!\+\_\+gzdecode@{\+\_\+gzdecode}}
\index{\+\_\+gzdecode@{\+\_\+gzdecode}!duzun\+::h\+Query@{duzun\+::h\+Query}}
\subsubsection{\texorpdfstring{\+\_\+gzdecode()}{\_gzdecode()}}
{\footnotesize\ttfamily static duzun\textbackslash{}h\+Query\+::\+\_\+gzdecode (\begin{DoxyParamCaption}\item[{}]{\$gzdata,  }\item[{}]{\$maxlen = {\ttfamily NULL} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}

Alternative \mbox{\hyperlink{classduzun_1_1hQuery_a84f0b53d5a2ae0e695a49f5b0f85c857}{gzdecode()}} (for P\+HP $<$ 5.\+4.\+0) source\+: \href{https://github.com/Polycademy/upgradephp/blob/master/upgrade.php}{\tt https\+://github.\+com/\+Polycademy/upgradephp/blob/master/upgrade.\+php} 

Definition at line 458 of file h\+Query.\+php.

\mbox{\Hypertarget{classduzun_1_1hQuery_a5326810be6da35a2567137787be41ada}\label{classduzun_1_1hQuery_a5326810be6da35a2567137787be41ada}} 
\index{duzun\+::h\+Query@{duzun\+::h\+Query}!do\+\_\+flock@{do\+\_\+flock}}
\index{do\+\_\+flock@{do\+\_\+flock}!duzun\+::h\+Query@{duzun\+::h\+Query}}
\subsubsection{\texorpdfstring{do\+\_\+flock()}{do\_flock()}}
{\footnotesize\ttfamily static duzun\textbackslash{}h\+Query\+::do\+\_\+flock (\begin{DoxyParamCaption}\item[{}]{\$fp,  }\item[{}]{\$lock,  }\item[{}]{\$timeout\+\_\+ms = {\ttfamily 384} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Lock with retries


\begin{DoxyParams}[1]{Parameters}
resource & {\em \$fp} & -\/ Open file pointer \\
\hline
int & {\em \$lock} & -\/ Lock type \\
\hline
int & {\em \$timeout\+\_\+ms} & -\/ O\+P\+T\+I\+O\+N\+AL Timeout to wait for unlock in miliseconds\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true on success, false on fail
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Dumitru Uzun 
\end{DoxyAuthor}


Definition at line 611 of file h\+Query.\+php.

\mbox{\Hypertarget{classduzun_1_1hQuery_a3565bdeabc08bd32d10d365759e9dc82}\label{classduzun_1_1hQuery_a3565bdeabc08bd32d10d365759e9dc82}} 
\index{duzun\+::h\+Query@{duzun\+::h\+Query}!find@{find}}
\index{find@{find}!duzun\+::h\+Query@{duzun\+::h\+Query}}
\subsubsection{\texorpdfstring{find()}{find()}}
{\footnotesize\ttfamily duzun\textbackslash{}h\+Query\+::find (\begin{DoxyParamCaption}\item[{}]{\$sel,  }\item[{}]{\$\+\_\+attr = {\ttfamily NULL},  }\item[{}]{\$ctx = {\ttfamily NULL} }\end{DoxyParamCaption})}

Finds a collection of nodes inside current document/context (similar to j\+Query.\+fn.\+find()).


\begin{DoxyParams}[1]{Parameters}
string & {\em \$sel} & -\/ A valid C\+SS selector (some pseudo-\/selectors supported). \\
\hline
array | string & {\em \$attr} & -\/ O\+P\+T\+I\+O\+N\+AL attributes as string or key-\/value pairs. \\
\hline
h\+Query\textbackslash{}\+Node & {\em \$ctx} & -\/ O\+P\+T\+I\+O\+N\+AL the context where to search. If omitted, \$this is used.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{classduzun_1_1hQuery}{h\+Query}} collection of matched elements or N\+U\+LL 
\end{DoxyReturn}


Definition at line 182 of file h\+Query.\+php.

\mbox{\Hypertarget{classduzun_1_1hQuery_ac8332727e97405b17ecb4dd47c5a0fc9}\label{classduzun_1_1hQuery_ac8332727e97405b17ecb4dd47c5a0fc9}} 
\index{duzun\+::h\+Query@{duzun\+::h\+Query}!find\+\_\+html@{find\+\_\+html}}
\index{find\+\_\+html@{find\+\_\+html}!duzun\+::h\+Query@{duzun\+::h\+Query}}
\subsubsection{\texorpdfstring{find\+\_\+html()}{find\_html()}}
{\footnotesize\ttfamily duzun\textbackslash{}h\+Query\+::find\+\_\+html (\begin{DoxyParamCaption}\item[{}]{\$sel,  }\item[{}]{\$attr = {\ttfamily NULL},  }\item[{}]{\$ctx = {\ttfamily NULL} }\end{DoxyParamCaption})}

Combination of -\/$>$\mbox{\hyperlink{classduzun_1_1hQuery_a3565bdeabc08bd32d10d365759e9dc82}{find()}} + -\/$>$\mbox{\hyperlink{classduzun_1_1hQuery_1_1Node_a6a251f5f93690fabb794c673388dd49b}{html()}}


\begin{DoxyParams}[1]{Parameters}
string & {\em \$sel} & -\/ A valid C\+SS selector. \\
\hline
array | string & {\em \$attr} & -\/ O\+P\+T\+I\+O\+N\+AL attributes as string or key-\/value pairs. \\
\hline
h\+Query\textbackslash{}\+Node & {\em \$ctx} & -\/ O\+P\+T\+I\+O\+N\+AL the context where to search. If omitted, \$this is used.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array list of H\+T\+ML contents of all matched elements 
\end{DoxyReturn}


Definition at line 269 of file h\+Query.\+php.

\mbox{\Hypertarget{classduzun_1_1hQuery_a3d00fababd6c54d00ee89a562233730d}\label{classduzun_1_1hQuery_a3d00fababd6c54d00ee89a562233730d}} 
\index{duzun\+::h\+Query@{duzun\+::h\+Query}!find\+\_\+text@{find\+\_\+text}}
\index{find\+\_\+text@{find\+\_\+text}!duzun\+::h\+Query@{duzun\+::h\+Query}}
\subsubsection{\texorpdfstring{find\+\_\+text()}{find\_text()}}
{\footnotesize\ttfamily duzun\textbackslash{}h\+Query\+::find\+\_\+text (\begin{DoxyParamCaption}\item[{}]{\$sel,  }\item[{}]{\$attr = {\ttfamily NULL},  }\item[{}]{\$ctx = {\ttfamily NULL} }\end{DoxyParamCaption})}

Combination of -\/$>$\mbox{\hyperlink{classduzun_1_1hQuery_a3565bdeabc08bd32d10d365759e9dc82}{find()}} + -\/$>$\mbox{\hyperlink{classduzun_1_1hQuery_1_1Node_ad5395ffe77dd4f111fcc7f59d211fbfa}{text()}}


\begin{DoxyParams}[1]{Parameters}
string & {\em \$sel} & -\/ A valid C\+SS selector. \\
\hline
array | string & {\em \$attr} & -\/ O\+P\+T\+I\+O\+N\+AL attributes as string or key-\/value pairs. \\
\hline
h\+Query\textbackslash{}\+Node & {\em \$ctx} & -\/ O\+P\+T\+I\+O\+N\+AL the context where to search. If omitted, \$this is used.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array list of Text contents of all matched elements 
\end{DoxyReturn}


Definition at line 285 of file h\+Query.\+php.

\mbox{\Hypertarget{classduzun_1_1hQuery_a68c406e030e2ccd85707c20c2eedf720}\label{classduzun_1_1hQuery_a68c406e030e2ccd85707c20c2eedf720}} 
\index{duzun\+::h\+Query@{duzun\+::h\+Query}!from\+File@{from\+File}}
\index{from\+File@{from\+File}!duzun\+::h\+Query@{duzun\+::h\+Query}}
\subsubsection{\texorpdfstring{from\+File()}{fromFile()}}
{\footnotesize\ttfamily static duzun\textbackslash{}h\+Query\+::from\+File (\begin{DoxyParamCaption}\item[{}]{\$filename,  }\item[{}]{\$use\+\_\+include\+\_\+path = {\ttfamily false},  }\item[{}]{\$context = {\ttfamily NULL} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Read the H\+T\+ML document from a file.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$filename} & -\/ a valid filename \\
\hline
bool & {\em \$use\+\_\+include\+\_\+path} & -\/ O\+P\+T\+I\+O\+N\+AL passed to file\+\_\+get\+\_\+contents() \\
\hline
resource & {\em \$context} & -\/ O\+P\+T\+I\+O\+N\+AL A valid context resource created with stream\+\_\+context\+\_\+create(). See file\+\_\+get\+\_\+contents()\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{classduzun_1_1hQuery}{h\+Query}} \$doc 
\end{DoxyReturn}


Definition at line 67 of file h\+Query.\+php.

\mbox{\Hypertarget{classduzun_1_1hQuery_a00c55ba68b55dc033bea74623927ca0f}\label{classduzun_1_1hQuery_a00c55ba68b55dc033bea74623927ca0f}} 
\index{duzun\+::h\+Query@{duzun\+::h\+Query}!from\+H\+T\+ML@{from\+H\+T\+ML}}
\index{from\+H\+T\+ML@{from\+H\+T\+ML}!duzun\+::h\+Query@{duzun\+::h\+Query}}
\subsubsection{\texorpdfstring{from\+H\+T\+M\+L()}{fromHTML()}}
{\footnotesize\ttfamily static duzun\textbackslash{}h\+Query\+::from\+H\+T\+ML (\begin{DoxyParamCaption}\item[{}]{\$html,  }\item[{}]{\$url = {\ttfamily NULL} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Parse and H\+T\+ML string.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$html} & -\/ source of some H\+T\+ML document \\
\hline
string & {\em \$url} & -\/ O\+P\+T\+I\+O\+N\+AL location of the document. Used for relative U\+R\+Ls inside the document.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{classduzun_1_1hQuery}{h\+Query}} \$doc 
\end{DoxyReturn}


Definition at line 41 of file h\+Query.\+php.

\mbox{\Hypertarget{classduzun_1_1hQuery_a2e7353a5236495ec6c29e68037a86438}\label{classduzun_1_1hQuery_a2e7353a5236495ec6c29e68037a86438}} 
\index{duzun\+::h\+Query@{duzun\+::h\+Query}!from\+U\+RL@{from\+U\+RL}}
\index{from\+U\+RL@{from\+U\+RL}!duzun\+::h\+Query@{duzun\+::h\+Query}}
\subsubsection{\texorpdfstring{from\+U\+R\+L()}{fromURL()}}
{\footnotesize\ttfamily static duzun\textbackslash{}h\+Query\+::from\+U\+RL (\begin{DoxyParamCaption}\item[{}]{\$url,  }\item[{}]{\$headers = {\ttfamily NULL},  }\item[{}]{\$body = {\ttfamily NULL},  }\item[{}]{\$options = {\ttfamily NULL} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Fetch the H\+T\+ML document from remote \$url.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$url} & -\/ the U\+RL of the document \\
\hline
array & {\em \$headers} & -\/ O\+P\+T\+I\+O\+N\+AL request headers \\
\hline
array | string & {\em \$body} & -\/ O\+P\+T\+I\+O\+N\+AL body of the request (for P\+O\+ST or P\+UT) \\
\hline
array & {\em \$options} & -\/ O\+P\+T\+I\+O\+N\+AL request options (see self\+::http\+\_\+wr() for more details)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{classduzun_1_1hQuery}{h\+Query}} \$doc 
\end{DoxyReturn}


Definition at line 88 of file h\+Query.\+php.

\mbox{\Hypertarget{classduzun_1_1hQuery_a3b0cda49e9c7695c2fc88f3ad1657c61}\label{classduzun_1_1hQuery_a3b0cda49e9c7695c2fc88f3ad1657c61}} 
\index{duzun\+::h\+Query@{duzun\+::h\+Query}!get\+\_\+cache@{get\+\_\+cache}}
\index{get\+\_\+cache@{get\+\_\+cache}!duzun\+::h\+Query@{duzun\+::h\+Query}}
\subsubsection{\texorpdfstring{get\+\_\+cache()}{get\_cache()}}
{\footnotesize\ttfamily static duzun\textbackslash{}h\+Query\+::get\+\_\+cache (\begin{DoxyParamCaption}\item[{}]{\$fn,  }\item[{}]{\$expire = {\ttfamily false},  }\item[{}]{\$meta\+\_\+only = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}

Read data from a cache file.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$fn} & -\/ cache filename \\
\hline
int & {\em \$expire} & -\/ O\+P\+T\+I\+O\+N\+AL contents returned only if it is newer then \$expire seconds \\
\hline
bool & {\em \$meta\+\_\+only} & -\/ O\+P\+T\+I\+O\+N\+AL if T\+R\+UE, read only meta-\/info (faster)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array \mbox{[}mixed $<$contents$>$, array $<$meta\+\_\+info$>$\mbox{]} 
\end{DoxyReturn}


Definition at line 532 of file h\+Query.\+php.

\mbox{\Hypertarget{classduzun_1_1hQuery_ad991b9626160044464a687ee32bd61c5}\label{classduzun_1_1hQuery_ad991b9626160044464a687ee32bd61c5}} 
\index{duzun\+::h\+Query@{duzun\+::h\+Query}!gz\+\_\+supported@{gz\+\_\+supported}}
\index{gz\+\_\+supported@{gz\+\_\+supported}!duzun\+::h\+Query@{duzun\+::h\+Query}}
\subsubsection{\texorpdfstring{gz\+\_\+supported()}{gz\_supported()}}
{\footnotesize\ttfamily static duzun\textbackslash{}h\+Query\+::gz\+\_\+supported (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Find a function to decode gzip data. \begin{DoxyReturn}{Returns}
string A gzip decode function name, or false if not found 
\end{DoxyReturn}


Definition at line 435 of file h\+Query.\+php.

\mbox{\Hypertarget{classduzun_1_1hQuery_a84f0b53d5a2ae0e695a49f5b0f85c857}\label{classduzun_1_1hQuery_a84f0b53d5a2ae0e695a49f5b0f85c857}} 
\index{duzun\+::h\+Query@{duzun\+::h\+Query}!gzdecode@{gzdecode}}
\index{gzdecode@{gzdecode}!duzun\+::h\+Query@{duzun\+::h\+Query}}
\subsubsection{\texorpdfstring{gzdecode()}{gzdecode()}}
{\footnotesize\ttfamily static duzun\textbackslash{}h\+Query\+::gzdecode (\begin{DoxyParamCaption}\item[{}]{\$str }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\hyperlink{classduzun_1_1hQuery_a84f0b53d5a2ae0e695a49f5b0f85c857}{gzdecode()}} (for P\+HP $<$ 5.\+4.\+0) 

Definition at line 445 of file h\+Query.\+php.

\mbox{\Hypertarget{classduzun_1_1hQuery_af3a116011d32dbaa4efe6ff10c0f608f}\label{classduzun_1_1hQuery_af3a116011d32dbaa4efe6ff10c0f608f}} 
\index{duzun\+::h\+Query@{duzun\+::h\+Query}!http\+\_\+wr@{http\+\_\+wr}}
\index{http\+\_\+wr@{http\+\_\+wr}!duzun\+::h\+Query@{duzun\+::h\+Query}}
\subsubsection{\texorpdfstring{http\+\_\+wr()}{http\_wr()}}
{\footnotesize\ttfamily static duzun\textbackslash{}h\+Query\+::http\+\_\+wr (\begin{DoxyParamCaption}\item[{}]{\$host,  }\item[{}]{\$head = {\ttfamily NULL},  }\item[{}]{\$body = {\ttfamily NULL},  }\item[{}]{\$options = {\ttfamily NULL} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Executes a H\+T\+TP write-\/read session.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$host} & -\/ I\+P/\+H\+O\+ST address or U\+RL \\
\hline
array & {\em \$head} & -\/ list off H\+T\+TP headers to be sent along with the request to \$host \\
\hline
mixed & {\em \$body} & -\/ data to be sent as the contents of the request. If is array or object, a http query is built. \\
\hline
array & {\em \$options} & -\/ list of option as key-\/value\+: timeout -\/ connection timeout in seconds host -\/ goes to headers, overrides \$host (ex. \$host == \textquotesingle{}127.\+0.\+0.\+1\textquotesingle{}, \$options\mbox{[}\textquotesingle{}host\textquotesingle{}\mbox{]} == \textquotesingle{}www.\+example.\+com\textquotesingle{}) port -\/ usefull when \$host is not a full U\+RL scheme -\/ http, ssl, tls, udp, ... close -\/ whether to close connection o not redirects -\/ number of allowed redirects redirect\+\_\+method -\/ if (string), this is the new method for redirect request, else if true, preserve method, else use \textquotesingle{}G\+ET\textquotesingle{} on redirect. by default preserve on 307 and 308, G\+ET on 301-\/303\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array \mbox{[}contents, headers, http-\/status-\/code, http-\/status-\/message\mbox{]}
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Dumitru Uzun 
\end{DoxyAuthor}


Definition at line 720 of file h\+Query.\+php.

\mbox{\Hypertarget{classduzun_1_1hQuery_adf6b1bc1eb43a8e88effc0662e2edc49}\label{classduzun_1_1hQuery_adf6b1bc1eb43a8e88effc0662e2edc49}} 
\index{duzun\+::h\+Query@{duzun\+::h\+Query}!index@{index}}
\index{index@{index}!duzun\+::h\+Query@{duzun\+::h\+Query}}
\subsubsection{\texorpdfstring{index()}{index()}}
{\footnotesize\ttfamily duzun\textbackslash{}h\+Query\+::index (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Index elements of the source H\+T\+ML. (Called automatically) 

Definition at line 295 of file h\+Query.\+php.

\mbox{\Hypertarget{classduzun_1_1hQuery_a6af08d4cefbb0d2184ff90377f6f757f}\label{classduzun_1_1hQuery_a6af08d4cefbb0d2184ff90377f6f757f}} 
\index{duzun\+::h\+Query@{duzun\+::h\+Query}!jsonize@{jsonize}}
\index{jsonize@{jsonize}!duzun\+::h\+Query@{duzun\+::h\+Query}}
\subsubsection{\texorpdfstring{jsonize()}{jsonize()}}
{\footnotesize\ttfamily static duzun\textbackslash{}h\+Query\+::jsonize (\begin{DoxyParamCaption}\item[{}]{\$data,  }\item[{\&}]{\$type = {\ttfamily NULL},  }\item[{}]{\$ops = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Serialize \$data as J\+S\+ON, fallback to serialize.


\begin{DoxyParams}[1]{Parameters}
mixed & {\em \$data} & -\/ the data to be serialized \\
\hline
 & {\em \&string} & \$type -\/ returns the serialization method used (\textquotesingle{}json\textquotesingle{} $\vert$ \textquotesingle{}ser\textquotesingle{})\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string the serialized data 
\end{DoxyReturn}


Definition at line 308 of file h\+Query.\+php.

\mbox{\Hypertarget{classduzun_1_1hQuery_ac01b0ddd586fe833f61c733147231a47}\label{classduzun_1_1hQuery_ac01b0ddd586fe833f61c733147231a47}} 
\index{duzun\+::h\+Query@{duzun\+::h\+Query}!serjstype@{serjstype}}
\index{serjstype@{serjstype}!duzun\+::h\+Query@{duzun\+::h\+Query}}
\subsubsection{\texorpdfstring{serjstype()}{serjstype()}}
{\footnotesize\ttfamily static duzun\textbackslash{}h\+Query\+::serjstype (\begin{DoxyParamCaption}\item[{}]{\$str }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}

Tries to detect format of \$str (json or ser).


\begin{DoxyParams}[1]{Parameters}
string & {\em \$str} & -\/ J\+S\+ON encoded or P\+HP serialized data.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string \textquotesingle{}json\textquotesingle{} $\vert$ \textquotesingle{}ser\textquotesingle{}, or F\+A\+L\+SE on failure to detect format. 
\end{DoxyReturn}


Definition at line 414 of file h\+Query.\+php.

\mbox{\Hypertarget{classduzun_1_1hQuery_a9e61ec098daddf504ffc239ff7d7910f}\label{classduzun_1_1hQuery_a9e61ec098daddf504ffc239ff7d7910f}} 
\index{duzun\+::h\+Query@{duzun\+::h\+Query}!set\+\_\+cache@{set\+\_\+cache}}
\index{set\+\_\+cache@{set\+\_\+cache}!duzun\+::h\+Query@{duzun\+::h\+Query}}
\subsubsection{\texorpdfstring{set\+\_\+cache()}{set\_cache()}}
{\footnotesize\ttfamily static duzun\textbackslash{}h\+Query\+::set\+\_\+cache (\begin{DoxyParamCaption}\item[{}]{\$fn,  }\item[{}]{\$cnt,  }\item[{}]{\$meta = {\ttfamily NULL},  }\item[{}]{\$gzip = {\ttfamily true} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}

Save data to a cache file.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$fn} & -\/ cache filename \\
\hline
mixed & {\em \$cnt} & -\/ contents to be cached \\
\hline
array & {\em \$meta} & -\/ O\+P\+T\+I\+O\+N\+AL meta information related to contents. \\
\hline
bool & {\em \$gzip} & -\/ O\+P\+T\+I\+O\+N\+AL if T\+R\+UE and gzip supported, store contents gzipped\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int$\vert$bool On success, number of written bytes, F\+A\+L\+SE on fail. 
\end{DoxyReturn}


Definition at line 578 of file h\+Query.\+php.

\mbox{\Hypertarget{classduzun_1_1hQuery_af5457644a63722ff789fababb88e99c5}\label{classduzun_1_1hQuery_af5457644a63722ff789fababb88e99c5}} 
\index{duzun\+::h\+Query@{duzun\+::h\+Query}!unjsonize@{unjsonize}}
\index{unjsonize@{unjsonize}!duzun\+::h\+Query@{duzun\+::h\+Query}}
\subsubsection{\texorpdfstring{unjsonize()}{unjsonize()}}
{\footnotesize\ttfamily static duzun\textbackslash{}h\+Query\+::unjsonize (\begin{DoxyParamCaption}\item[{}]{\$str,  }\item[{\&}]{\$type = {\ttfamily NULL} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Unserialize \$data from either J\+S\+ON or serialize.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$str} & -\/ the data to be unserialized \\
\hline
 & {\em \&string} & \$type -\/ if not set, returns the serialization method detected (\textquotesingle{}json\textquotesingle{} $\vert$ \textquotesingle{}ser\textquotesingle{}); if set, forces \mbox{\hyperlink{classduzun_1_1hQuery_af5457644a63722ff789fababb88e99c5}{unjsonize()}} to use this method for unserialization.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
mixed the unserialized data 
\end{DoxyReturn}


Definition at line 332 of file h\+Query.\+php.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/h\+Query.\+php\end{DoxyCompactItemize}
